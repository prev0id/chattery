# Chatter - Group chatting app

![Logo](./docs/attachments/logo.svg)

Документация к проекту расположена в [docs](./docs)

## TODO

Список задач по котором можно отслеживать прогресс проект (возможно стоит унести в отдельную доку?)

### Infra (4/9 ~44%)
Задачи связанные с инфраструктурой сервиса, деплоем и локальной разработкой
- [x] (4/4) Локальная разработка
    - [x] docker-compose
    - [x] Makefile
    - [x] Air (live reload)
    - [x] Миграции
- [ ] (0/5) Деплой
    - [ ] Домен
    - [ ] DNS
    - [ ] Postgres
    - [ ] Redis
    - [ ] Server

### Backend (40/62 ~64%)
Задачи на серверную часть проекта
1. (1/1) Структура проекта
2. (7/7) Общее
    - [x] SQLC
    - [x] Клиент postgres
    - [x] Менеджер транзакций
    - [x] Клиент redis
    - [x] Конфиг
    - [x] Логирование
    - [x] main
3. (12/13) User service
    - [x] Миграция БД
    - [x] Domain структуры
    - [x] SQLC запросы
    - [x] Создание профиля
    - [x] Удаление профиля
    - [x] Логин
    - [x] Разлогин
    - [x] Поиск
    - [x] Обновление профиля
    - [x] Создание сессии
    - [x] Удаление сессии
    - [x] Аутентификационная мидделвара
    - [ ] Интеграция с фронтендом
4. (8/10) Chat service
    - [x] Миграция БД
    - [x] Domain структуры
    - [x] SQLC запросы
    - [x] Создание чата
    - [x] Вход в чат
    - [x] Выход из чата
    - [x] Список
    - [x] Поиск
    - [ ] (wip) Получение истории сообщений
    - [ ] (wip) Интеграция с фронтендом
5. (5/5) API
    - [x] API сервер
    - [x] Логирование
    - [x] Миддлвары
    - [x] Bind util
    - [x] Render util
6. (6/15) Websocket - используется для realtime чата и для signaling webrtc соединений
    - [x] API
    - [x] Subscriber пакет
    - [x] Пул WS клиентов в сервисе чата
    - [x] Broadcast сообщения в рамках чата
    - [x] Открытие чата
    - [x] Закрытие чата
    - [ ] (wip) Интеграция чата с фронтендом
    - [ ] Открытие звонка
    - [ ] Закрытие звонка
    - [ ] Нотификация дисконекта
    - [ ] Офер
    - [ ] Ответ
    - [ ] ICE кандидат
    - [ ] TODO others
    - [ ] Интеграция звонка с фронтендом
7. (0/9) Call Service
    - [ ] WebRTC API
    - [ ] Создание звонка
    - [ ] Удаление звонка
    - [ ] Вход в звонок
    - [ ] Выход из звонока
    - [ ] Бродкаст стримов в рамках комнаты
    - [ ] Бродкаст сообщений
    - [ ] Запись в redis данных о поде и комнатах
    - [ ] Интеграция звонка с фронтендом
8. (1/2) Frontend
    - [x] embed files
    - [ ] (wip) web api


### Frontend (17/65 ~26%)
Задачи на клиентскую часть проекта
1. (5/5) Общее
    - [x] Lit зависимость
    - [x] Общие стили
    - [x] Нотификации: JS
    - [x] Нотификации: HTML/CSS
    - [x] Вебкомпонент icon
2. (3/3) Дизайн
    - [x] Цвета
    - [x] Лого (мал)
    - [x] Лого (бол)
3. (5/5) Страница логина
    - [x] HTML страницы
    - [x] HTML формы
    - [x] CSS формы
    - [x] JS формы: запрос "/v1/user/login"
    - [x] JS формы: Редирект на "/app"
4. (6/6) Страница создания профиля
    - [x] HTML страницы
    - [x] HTML формы
    - [x] CSS формы
    - [x] JS формы: запрос "/v1/user/create"
    - [x] JS формы: валидация паролей
    - [x] JS формы: Редирект на "/app"
5. (2/18) Sidebar
    - [ ] JS: menu-bar + content-bar communication
    - [ ] JS: get profile info "/v1/user/me/info"
    - [ ] JS: запись табов в URL
    - [x] HTML menu-bar
    - [x] CSS menu-bar
    - [ ] JS menu-bar: выбор табов
    - [ ] JS menu-bar: получение данных профиля
    - [ ] JS menu-bar: разлогин
    - [ ] HTML content-bar
    - [ ] CSS content-bar
    - [ ] JS content-bar: получение данных личных чатов
    - [ ] JS content-bar: получение данных публичных чатов
    - [ ] JS content-bar: поиск публичных чатов
    - [ ] JS content-bar: поиск новых частных чатов
    - [ ] JS content-bar: открытие чата
    - [ ] JS: Формы профиля
    - [ ] HTML: Модалки настройки профиля
    - [ ] CSS: Модалки настройки профиля
6. (0/7) Чат
    - [ ] JS: WS обертка с переподлючением и обработкой сообщений
    - [ ] JS: Отправка сообщения в чате
    - [ ] JS: Вход в чата
    - [ ] JS: Выход из чата
    - [ ] HTML/CSS сообщения
    - [ ] HTML/CSS формы отправки
    - [ ] JS: Прокрутка истории чата
7. (0/11) Звонок
    - [ ] JS: ICE кандидаты
    - [ ] JS: Вход в звонок
    - [ ] JS: Выход из звонка
    - [ ] JS: Поддержка микрофона
    - [ ] JS: Поддержка трансляции экрана
    - [ ] JS: Поддержка вебки
    - [ ] JS: Дисконект
    - [ ] HTML/CSS звонка
    - [ ] HTML/CSS участника звонка
    - [ ] HTML/CSS формы настроек
    - [ ] JS: Настроек

### Extra (на подумать)
- [ ] Pub/sub pool
- [ ] Turn server
- [ ] Unit tests
- [ ] E2E tests
- [ ] api друзей?
- [ ] отправка первой страницы сообщений в
